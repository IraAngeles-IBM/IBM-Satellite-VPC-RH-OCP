{"config":{"lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Deploy Red Hat OpenShift Cluster in VPC Server Instance via Satellite Host \u00b6 Explore IBM Satellite capabilites in deploying Red Hat OpenShift Cluster utilizing Satellite host. This method is only for demo or proof-of-concept (PoC). For Red Hat OpenShift in production environment use IBM Red Hat OpenShift Kubernetes Service (ROKS) in IBM Cloud or via Satellite Host in other cloud providers (e.g. GCP, AWS, Azure, etc) or on-prem resources. IBM Cloud Services \u00b6 IBM Satellite IBM Virtual Private Cloud - VPC IBM Red Hat OpenShift in IBM Cloud Prerequisites \u00b6 A Pay-As-You-Go or Subscription IBM Cloud account Steps \u00b6 Create VPC Server Instance for Satellite Host Setup Satellite Host Create Satellite locations and attach hosts Create Red Hat OpenShift Cluster using Satellite Infrastructure Setup VPC DNS for public access without VPN Note: For on-prem host, skip Create VPC Server Instance for Satellite Host","title":"About"},{"location":"#deploy-red-hat-openshift-cluster-in-vpc-server-instance-via-satellite-host","text":"Explore IBM Satellite capabilites in deploying Red Hat OpenShift Cluster utilizing Satellite host. This method is only for demo or proof-of-concept (PoC). For Red Hat OpenShift in production environment use IBM Red Hat OpenShift Kubernetes Service (ROKS) in IBM Cloud or via Satellite Host in other cloud providers (e.g. GCP, AWS, Azure, etc) or on-prem resources.","title":"Deploy Red Hat OpenShift Cluster in VPC Server Instance via Satellite Host"},{"location":"#ibm-cloud-services","text":"IBM Satellite IBM Virtual Private Cloud - VPC IBM Red Hat OpenShift in IBM Cloud","title":"IBM Cloud Services"},{"location":"#prerequisites","text":"A Pay-As-You-Go or Subscription IBM Cloud account","title":"Prerequisites"},{"location":"#steps","text":"Create VPC Server Instance for Satellite Host Setup Satellite Host Create Satellite locations and attach hosts Create Red Hat OpenShift Cluster using Satellite Infrastructure Setup VPC DNS for public access without VPN Note: For on-prem host, skip Create VPC Server Instance for Satellite Host","title":"Steps"},{"location":"SUMMARY/","text":"Table of contents \u00b6 About this workshop \u00b6 Overview Workshop setup \u00b6 Create VPC Server Instance for Satellite Host Setup Host Create Satellite locations and attach hosts Create Red Hat OpenShift Cluster using Satellite Infrastructure Setup VPC DNS for public access without VPN","title":"Table of contents"},{"location":"SUMMARY/#table-of-contents","text":"","title":"Table of contents"},{"location":"SUMMARY/#about-this-workshop","text":"Overview","title":"About this workshop"},{"location":"SUMMARY/#workshop-setup","text":"Create VPC Server Instance for Satellite Host Setup Host Create Satellite locations and attach hosts Create Red Hat OpenShift Cluster using Satellite Infrastructure Setup VPC DNS for public access without VPN","title":"Workshop setup"},{"location":"attach-hosts/","text":"Create Satellite Locations, Attach and Assign host \u00b6 Create Satellite Location \u00b6 Go to Satellite -> Locations, then Create Location button. Select Manual setup , enter the preferred Satellite location Name , select the appropriate location where the host will be Manage from (e.g. London or Washington DC). Confirm all information then proceed to Create Location . Attach host to the location \u00b6 After successful creation of the Satellite location, proceed to the location, select Host , then Attach host . Download the script, labels can be added before downloading the script. Copy the script from your local machine to the host scp -i <filepath_to_key_file> <filepath_to_script> <username>@<IP_address>:/tmp/attach.sh Log in to the host ssh -i <filepath_to_key_file> <username>@<IP_address> Run the script. Add sudo for rootless login. nohup bash /tmp/attach.sh & Monitor the progress of the registration script journalctl -f -u ibm-host-attach Check the host in the Satellite location Assign host to the Control plane \u00b6 Select the Ready and Unassigned host to the Control plane. Assign host to the zone. The host will be provisioned","title":"Create Satellite locations and attach hosts"},{"location":"attach-hosts/#create-satellite-locations-attach-and-assign-host","text":"","title":"Create Satellite Locations, Attach and Assign host"},{"location":"attach-hosts/#create-satellite-location","text":"Go to Satellite -> Locations, then Create Location button. Select Manual setup , enter the preferred Satellite location Name , select the appropriate location where the host will be Manage from (e.g. London or Washington DC). Confirm all information then proceed to Create Location .","title":"Create Satellite Location"},{"location":"attach-hosts/#attach-host-to-the-location","text":"After successful creation of the Satellite location, proceed to the location, select Host , then Attach host . Download the script, labels can be added before downloading the script. Copy the script from your local machine to the host scp -i <filepath_to_key_file> <filepath_to_script> <username>@<IP_address>:/tmp/attach.sh Log in to the host ssh -i <filepath_to_key_file> <username>@<IP_address> Run the script. Add sudo for rootless login. nohup bash /tmp/attach.sh & Monitor the progress of the registration script journalctl -f -u ibm-host-attach Check the host in the Satellite location","title":"Attach host to the location"},{"location":"attach-hosts/#assign-host-to-the-control-plane","text":"Select the Ready and Unassigned host to the Control plane. Assign host to the zone. The host will be provisioned","title":"Assign host to the Control plane"},{"location":"ibm-satellite-setup/","text":"Create a Satellite Location \u00b6 Click on the Create a Satellite Location button Enter the location details; Select Manual Setup (a) Name of the Location (ira-demo-ibm-cloud) (b) Select where the location is managed (Washington DC) \u00a9 Click on the Create location button (d) After creating the location, next add hosts. To add host, download the attach host script (e.g. attachHost-ira-demo-ibm-cloud1.sh) and run in host or upload in VPC setup. (see VPC setup ) Once all the host has been attached to the location. Assign host to Control plane for Zone-1, Zone-2, Zone-3. It is required to assign host to all zones. The rest of the unassigned host will be assigned once the IBM Cloud serivce (OpenShift) is deployed. The following shows all assigned hosts.","title":"Ibm satellite setup"},{"location":"ibm-satellite-setup/#create-a-satellite-location","text":"Click on the Create a Satellite Location button Enter the location details; Select Manual Setup (a) Name of the Location (ira-demo-ibm-cloud) (b) Select where the location is managed (Washington DC) \u00a9 Click on the Create location button (d) After creating the location, next add hosts. To add host, download the attach host script (e.g. attachHost-ira-demo-ibm-cloud1.sh) and run in host or upload in VPC setup. (see VPC setup ) Once all the host has been attached to the location. Assign host to Control plane for Zone-1, Zone-2, Zone-3. It is required to assign host to all zones. The rest of the unassigned host will be assigned once the IBM Cloud serivce (OpenShift) is deployed. The following shows all assigned hosts.","title":"Create a Satellite Location"},{"location":"manual-host-setup/","text":"Setup each Host Manually \u00b6 Assign unique hostname \u00b6 SSH to each host and update the hostname. Use the command hostnamectl to update the hostname. Hostname will be updated however, terminal session hostname will be update upon next login or re-login to check if update. Ensure hostnames are unique to avoid conflict during setup. ```shell hostnamectl set-hostname ira-sat-on-prem-demo-zone-2 ``` Register host via subcription manager \u00b6 Ensure Red Hat subscription license covers Red Hat Software Collections. Register host using subscription-manager and enter the username, password, and Pool ID when needed. ``` subscription-manager register ``` Sample output: ```shell [root@localhost ~]# subscription-manager register Unregistering from: subscription.rhsm.redhat.com:443/subscription Registering to: subscription.rhsm.redhat.com:443/subscription Username: <username> Password: The system has been registered with ID: 82076cd1-7f08-40fa-a536-d300c3a31f11 The registered system name is: ira-sat-on-prem-demo-zone-2 ``` Attach host to Satellite location Control plane \u00b6 After successful registration of host next attach the host to the subscription with command subscription-manager attach . ```shell [root@ira-on-prem-zone3 ira]# subscription-manager attach Installed Product Current Status: Product Name: Red Hat Enterprise Linux for x86_64 Status: Subscribed ``` Add RHEL repositories \u00b6 Use the following subscription-manager commands to enable the following repositories: ```shell subscription-manager refresh subscription-manager repos --enable rhel-server-rhscl-7-rpms subscription-manager repos --enable rhel-7-server-optional-rpms subscription-manager repos --enable rhel-7-server-rh-common-rpms subscription-manager repos --enable rhel-7-server-supplementary-rpms subscription-manager repos --enable rhel-7-server-extras-rpms ``` Sample output: ```shell [root@ira-sat-on-prem-demo ~]# subscription-manager repos --enable rhel-server-rhscl-7-rpms Repository 'rhel-server-rhscl-7-rpms' is enabled for this system. [root@ira-sat-on-prem-demo ~]# subscription-manager repos --enable rhel-7-server-optional-rpms Repository 'rhel-7-server-optional-rpms' is enabled for this system. [root@ira-sat-on-prem-demo ~]# subscription-manager repos --enable rhel-7-server-rh-common-rpms Repository 'rhel-7-server-rh-common-rpms' is enabled for this system. [root@ira-sat-on-prem-demo ~]# subscription-manager repos --enable rhel-7-server-supplementary-rpms Repository 'rhel-7-server-supplementary-rpms' is enabled for this system. [root@ira-sat-on-prem-demo ~]# subscription-manager repos --enable rhel-7-server-extras-rpms Repository 'rhel-7-server-extras-rpms' is enabled for this system. ```","title":"Setup Satellite Host"},{"location":"manual-host-setup/#setup-each-host-manually","text":"","title":"Setup each Host Manually"},{"location":"manual-host-setup/#assign-unique-hostname","text":"SSH to each host and update the hostname. Use the command hostnamectl to update the hostname. Hostname will be updated however, terminal session hostname will be update upon next login or re-login to check if update. Ensure hostnames are unique to avoid conflict during setup. ```shell hostnamectl set-hostname ira-sat-on-prem-demo-zone-2 ```","title":"Assign unique hostname"},{"location":"manual-host-setup/#register-host-via-subcription-manager","text":"Ensure Red Hat subscription license covers Red Hat Software Collections. Register host using subscription-manager and enter the username, password, and Pool ID when needed. ``` subscription-manager register ``` Sample output: ```shell [root@localhost ~]# subscription-manager register Unregistering from: subscription.rhsm.redhat.com:443/subscription Registering to: subscription.rhsm.redhat.com:443/subscription Username: <username> Password: The system has been registered with ID: 82076cd1-7f08-40fa-a536-d300c3a31f11 The registered system name is: ira-sat-on-prem-demo-zone-2 ```","title":"Register host via subcription manager"},{"location":"manual-host-setup/#attach-host-to-satellite-location-control-plane","text":"After successful registration of host next attach the host to the subscription with command subscription-manager attach . ```shell [root@ira-on-prem-zone3 ira]# subscription-manager attach Installed Product Current Status: Product Name: Red Hat Enterprise Linux for x86_64 Status: Subscribed ```","title":"Attach host to Satellite location Control plane"},{"location":"manual-host-setup/#add-rhel-repositories","text":"Use the following subscription-manager commands to enable the following repositories: ```shell subscription-manager refresh subscription-manager repos --enable rhel-server-rhscl-7-rpms subscription-manager repos --enable rhel-7-server-optional-rpms subscription-manager repos --enable rhel-7-server-rh-common-rpms subscription-manager repos --enable rhel-7-server-supplementary-rpms subscription-manager repos --enable rhel-7-server-extras-rpms ``` Sample output: ```shell [root@ira-sat-on-prem-demo ~]# subscription-manager repos --enable rhel-server-rhscl-7-rpms Repository 'rhel-server-rhscl-7-rpms' is enabled for this system. [root@ira-sat-on-prem-demo ~]# subscription-manager repos --enable rhel-7-server-optional-rpms Repository 'rhel-7-server-optional-rpms' is enabled for this system. [root@ira-sat-on-prem-demo ~]# subscription-manager repos --enable rhel-7-server-rh-common-rpms Repository 'rhel-7-server-rh-common-rpms' is enabled for this system. [root@ira-sat-on-prem-demo ~]# subscription-manager repos --enable rhel-7-server-supplementary-rpms Repository 'rhel-7-server-supplementary-rpms' is enabled for this system. [root@ira-sat-on-prem-demo ~]# subscription-manager repos --enable rhel-7-server-extras-rpms Repository 'rhel-7-server-extras-rpms' is enabled for this system. ```","title":"Add RHEL repositories"},{"location":"roks-setup/","text":"Create Red Hat OpenShift Cluster on IBM Cloud \u00b6 Select Red Hat OpenShift on IBM Cloud from the Catalog To create Red Hat OpenShift Cluster using Satellite host, select Satellite in the Infrastructure. Select the Satellite host location. Ensure the location state is Normal with minimum of 6 hosts. Three (3) hosts are required for the control plane and three (3) for the worker nodes. Red Hat OpenShift requires minimum of 2 worker nodes however not recommended for production environment. Finalize the cluster details to create the cluster Select Worker pools. Three (3) Satellite zones are required for production environment, however, for test or demo two (2) Satellite zones can be used. Select the appropriate Worker nodes per zone Select Enable cluster admin access for Satellite Config in the Satellite Config enter the desired Cluster name click on the Create button to create the cluster","title":"Create Red Hat OpenShift Cluster using Satellite Infrastructure"},{"location":"roks-setup/#create-red-hat-openshift-cluster-on-ibm-cloud","text":"Select Red Hat OpenShift on IBM Cloud from the Catalog To create Red Hat OpenShift Cluster using Satellite host, select Satellite in the Infrastructure. Select the Satellite host location. Ensure the location state is Normal with minimum of 6 hosts. Three (3) hosts are required for the control plane and three (3) for the worker nodes. Red Hat OpenShift requires minimum of 2 worker nodes however not recommended for production environment. Finalize the cluster details to create the cluster Select Worker pools. Three (3) Satellite zones are required for production environment, however, for test or demo two (2) Satellite zones can be used. Select the appropriate Worker nodes per zone Select Enable cluster admin access for Satellite Config in the Satellite Config enter the desired Cluster name click on the Create button to create the cluster","title":"Create Red Hat OpenShift Cluster on IBM Cloud"},{"location":"vpc-dns-setup/","text":"VPC DNS setup \u00b6 Setup VPC DNS for public access, othewise, VPN is required to access the cluster. Login to IBM Cloud via the ibmcloud CLI ibmcloud login for federated account ibmcloud login --sso Get cluster ibmcloud oc cluster ls Sample output from CLI: Name ID State Created Workers Location Version Resource Group Name Provider ira-demo-sat-cluster-satellite c1gmq42w0g3jucqlern0 normal 1 day ago 3 ira-demo-ibm-cloud 4.5.31_1531_openshift default satellite ira-demo-sng01-b3c.4x16 c19bq46t0jcg8lonbseg normal 1 week ago 2 sng01 4.5.31_1531_openshift default classic Connect to the Satellite cluster ibmcloud oc cluster config --admin -c ira-demo-sat-cluster-satellite Sample output from CLI: OK The configuration for ira-demo-sat-cluster-satellite was downloaded successfully. Added context for ira-demo-sat-cluster-satellite to the current kubeconfig file. You can now execute 'kubectl' commands against your cluster. For example, run 'kubectl get nodes'. If you are accessing the cluster for the first time, 'kubectl' commands might fail for a few seconds while RBAC synchronizes. To get the Satellite location DNS for the cluster ira-demo-ibm-cloud . The IP addresses in the Records column are Private IP. ibmcloud sat location dns ls --location ira-demo-ibm-cloud Sample output from CLI: Hostname Records SSL Cert Status SSL Cert Secret Name Secret Namespace i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c000.us-east.satellite.appdomain.cloud 10.245.64.5,10.245.64.6,10.245.64.8 creating i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c000 default i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c001.us-east.satellite.appdomain.cloud 10.245.64.5 creating i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c001 default i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c002.us-east.satellite.appdomain.cloud 10.245.64.8 creating i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c002 default i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c003.us-east.satellite.appdomain.cloud 10.245.64.6 creating i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c003 default i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-ce00.us-east.satellite.appdomain.cloud i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c000.us-east.satellite.appdomain.cloud creating i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-ce00 default Register DNS the Floating IP address for the control plane host. Get the Floating IP address from the VPC console. ibmcloud sat location dns register --location ira-demo-ibm-cloud --ip 130.198.14.54 --ip 130.198.19.141 --ip 130.198.8.91 Sample output from CLI: Registering a subdomain for control plane hosts... OK Subdomain Records i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c000.us-east.satellite.appdomain.cloud 130.198.14.54, 130.198.19.141, 130.198.8.91 i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c001.us-east.satellite.appdomain.cloud 130.198.14.54 i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c002.us-east.satellite.appdomain.cloud 130.198.19.141 i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c003.us-east.satellite.appdomain.cloud 130.198.8.91 i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-ce00.us-east.satellite.appdomain.cloud i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c000.us-east.satellite.appdomain.cloud Get the IBM NLB DNS for the Red Hat OpenShift cluster worker nodes ibmcloud ks nlb-dns ls --cluster ira-demo-sat-cluster-satellite Sample output from CLI: OK Hostname IP(s) Health Monitor SSL Cert Status SSL Cert Secret Name Secret Namespace ira-demo-sat-cluster-sa-54cf26acc8196920b8b92e52d85dba7e-0000.upi.containers.appdomain.cloud 10.245.64.9,10.245.64.10,10.245.64.11 None created ira-demo-sat-cluster-sa-54cf26acc8196920b8b92e52d85dba7e-0000 openshift-ingress To update the IP address, we need to remove the existing Private IP address ibmcloud ks nlb-dns rm classic --cluster ira-demo-sat-cluster-satellite --nlb-host ira-demo-sat-cluster-sa-54cf26acc8196920b8b92e52d85dba7e-0000.upi.containers.appdomain.cloud --ip 10.245.64.9 --ip 10.245.64.10 --ip 10.245.64.11 Sample output from CLI: Deleting IP 10.245.64.11 from NLB host name ira-demo-sat-cluster-sa-54cf26acc8196920b8b92e52d85dba7e-0000.upi.containers.appdomain.cloud in cluster ira-demo-sat-cluster-satellite... OK Add IBM NLB DNS for the Red Hat OpenShift cluster worker nodes ibmcloud ks nlb-dns add --cluster ira-demo-sat-cluster-satellite --nlb-host ira-demo-sat-cluster-sa-54cf26acc8196920b8b92e52d85dba7e-0000.upi.containers.appdomain.cloud --ip 130.198.19.169 --ip 130.198.8.105 --ip 130.198.14.65 Sample output from CLI: Adding IP(s) 130.198.19.169, 130.198.8.105, 130.198.14.65 to NLB host name ira-demo-sat-cluster-sa-54cf26acc8196920b8b92e52d85dba7e-0000.upi.containers.appdomain.cloud in cluster ira-demo-sat-cluster-satellite ...","title":"Setup VPC DNS for public access without VPN"},{"location":"vpc-dns-setup/#vpc-dns-setup","text":"Setup VPC DNS for public access, othewise, VPN is required to access the cluster. Login to IBM Cloud via the ibmcloud CLI ibmcloud login for federated account ibmcloud login --sso Get cluster ibmcloud oc cluster ls Sample output from CLI: Name ID State Created Workers Location Version Resource Group Name Provider ira-demo-sat-cluster-satellite c1gmq42w0g3jucqlern0 normal 1 day ago 3 ira-demo-ibm-cloud 4.5.31_1531_openshift default satellite ira-demo-sng01-b3c.4x16 c19bq46t0jcg8lonbseg normal 1 week ago 2 sng01 4.5.31_1531_openshift default classic Connect to the Satellite cluster ibmcloud oc cluster config --admin -c ira-demo-sat-cluster-satellite Sample output from CLI: OK The configuration for ira-demo-sat-cluster-satellite was downloaded successfully. Added context for ira-demo-sat-cluster-satellite to the current kubeconfig file. You can now execute 'kubectl' commands against your cluster. For example, run 'kubectl get nodes'. If you are accessing the cluster for the first time, 'kubectl' commands might fail for a few seconds while RBAC synchronizes. To get the Satellite location DNS for the cluster ira-demo-ibm-cloud . The IP addresses in the Records column are Private IP. ibmcloud sat location dns ls --location ira-demo-ibm-cloud Sample output from CLI: Hostname Records SSL Cert Status SSL Cert Secret Name Secret Namespace i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c000.us-east.satellite.appdomain.cloud 10.245.64.5,10.245.64.6,10.245.64.8 creating i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c000 default i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c001.us-east.satellite.appdomain.cloud 10.245.64.5 creating i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c001 default i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c002.us-east.satellite.appdomain.cloud 10.245.64.8 creating i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c002 default i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c003.us-east.satellite.appdomain.cloud 10.245.64.6 creating i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c003 default i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-ce00.us-east.satellite.appdomain.cloud i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c000.us-east.satellite.appdomain.cloud creating i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-ce00 default Register DNS the Floating IP address for the control plane host. Get the Floating IP address from the VPC console. ibmcloud sat location dns register --location ira-demo-ibm-cloud --ip 130.198.14.54 --ip 130.198.19.141 --ip 130.198.8.91 Sample output from CLI: Registering a subdomain for control plane hosts... OK Subdomain Records i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c000.us-east.satellite.appdomain.cloud 130.198.14.54, 130.198.19.141, 130.198.8.91 i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c001.us-east.satellite.appdomain.cloud 130.198.14.54 i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c002.us-east.satellite.appdomain.cloud 130.198.19.141 i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c003.us-east.satellite.appdomain.cloud 130.198.8.91 i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-ce00.us-east.satellite.appdomain.cloud i1d21368ca9949e6876b6-6b64a6ccc9c596bf59a86625d8fa2202-c000.us-east.satellite.appdomain.cloud Get the IBM NLB DNS for the Red Hat OpenShift cluster worker nodes ibmcloud ks nlb-dns ls --cluster ira-demo-sat-cluster-satellite Sample output from CLI: OK Hostname IP(s) Health Monitor SSL Cert Status SSL Cert Secret Name Secret Namespace ira-demo-sat-cluster-sa-54cf26acc8196920b8b92e52d85dba7e-0000.upi.containers.appdomain.cloud 10.245.64.9,10.245.64.10,10.245.64.11 None created ira-demo-sat-cluster-sa-54cf26acc8196920b8b92e52d85dba7e-0000 openshift-ingress To update the IP address, we need to remove the existing Private IP address ibmcloud ks nlb-dns rm classic --cluster ira-demo-sat-cluster-satellite --nlb-host ira-demo-sat-cluster-sa-54cf26acc8196920b8b92e52d85dba7e-0000.upi.containers.appdomain.cloud --ip 10.245.64.9 --ip 10.245.64.10 --ip 10.245.64.11 Sample output from CLI: Deleting IP 10.245.64.11 from NLB host name ira-demo-sat-cluster-sa-54cf26acc8196920b8b92e52d85dba7e-0000.upi.containers.appdomain.cloud in cluster ira-demo-sat-cluster-satellite... OK Add IBM NLB DNS for the Red Hat OpenShift cluster worker nodes ibmcloud ks nlb-dns add --cluster ira-demo-sat-cluster-satellite --nlb-host ira-demo-sat-cluster-sa-54cf26acc8196920b8b92e52d85dba7e-0000.upi.containers.appdomain.cloud --ip 130.198.19.169 --ip 130.198.8.105 --ip 130.198.14.65 Sample output from CLI: Adding IP(s) 130.198.19.169, 130.198.8.105, 130.198.14.65 to NLB host name ira-demo-sat-cluster-sa-54cf26acc8196920b8b92e52d85dba7e-0000.upi.containers.appdomain.cloud in cluster ira-demo-sat-cluster-satellite ...","title":"VPC DNS setup"},{"location":"vpc-setup/","text":"Create Server Instance in IBM Virtual Private Cloud \u00b6 Create new virtual server instance for VPC. Enter instance name (test-satellite) select location (Sydney) Select Type of virtual server (Public). Select Operating System. For Satellite select Red Hat Enterprise Linux 7.x - Minimal Install Select Server Profile. Minimum Satellite requirement: 4 cores, 16GB memory, 100GB storage. For manual configuration of server instance, upload SSH keys. For automated setup, upload the attach host scripts in the Import user data. For manual configuration via SSH, refer to Manually Setup Host Once the setup is confirmed, click on the Create virtual server instance After the creation of the server instances, select instances without Floating IP. To add Floating IP , select the host and edit the corresponding Network interfaces, either select an existing IP address or Reserve a new floating IP. Floating IP is required for external access, otherwise, VPN is required to access the instances using Private IP.","title":"Create VPC Server Instance for Satellite Host"},{"location":"vpc-setup/#create-server-instance-in-ibm-virtual-private-cloud","text":"Create new virtual server instance for VPC. Enter instance name (test-satellite) select location (Sydney) Select Type of virtual server (Public). Select Operating System. For Satellite select Red Hat Enterprise Linux 7.x - Minimal Install Select Server Profile. Minimum Satellite requirement: 4 cores, 16GB memory, 100GB storage. For manual configuration of server instance, upload SSH keys. For automated setup, upload the attach host scripts in the Import user data. For manual configuration via SSH, refer to Manually Setup Host Once the setup is confirmed, click on the Create virtual server instance After the creation of the server instances, select instances without Floating IP. To add Floating IP , select the host and edit the corresponding Network interfaces, either select an existing IP address or Reserve a new floating IP. Floating IP is required for external access, otherwise, VPN is required to access the instances using Private IP.","title":"Create Server Instance in IBM Virtual Private Cloud"}]}